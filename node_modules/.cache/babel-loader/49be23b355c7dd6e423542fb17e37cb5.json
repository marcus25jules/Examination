{"ast":null,"code":"/**\n * ## Imports\n *\n * The actions supported\n */var _require$default=require(\"../../constants/Customer\").default,CUSTOMER=_require$default.CUSTOMER,ON_FORM_FIELD_CHANGE=_require$default.ON_FORM_FIELD_CHANGE,CUSTOMER_SUCCESS=_require$default.CUSTOMER_SUCCESS,CUSTOMER_REQUEST=_require$default.CUSTOMER_REQUEST;import{api}from\"../../lib/Api\";import CONSTANTS from\"../../lib/constants\";export function customerState(){return{type:CUSTOMER};}export function customerSuccess(json){return{type:CUSTOMER_SUCCESS,payload:json};}export function customerRequest(){return{type:CUSTOMER_REQUEST};}export function onFormFieldChange(field,value){return{type:ON_FORM_FIELD_CHANGE,payload:{field:field,value:value}};}export function getCustomers(){return function(dispatch,getState){var fields=getState().customer.form.fields;dispatch(customerRequest());api.get(null,CONSTANTS.ALL_CUSTOMER).then(function(response){if(typeof response!=='undefined'){if(response.length>0){dispatch(customerSuccess(response));}}}).catch(function(err){//dispatch(pokemonFailure(err));\n});};}export function addCustomer(form){return function(dispatch,getState){var fields=getState().customer.form.fields;console.log(fields);api.post(fields,CONSTANTS.ADD_CUSTOMER).then(function(response){if(typeof response!=='undefined'){if(response.length>0){dispatch(customerSuccess(response));}}}).catch(function(err){//dispatch(pokemonFailure(err));\n});// if (typeof form.id !== \"undefined\") {\n//   var index = fields.data.findIndex(\n//     (c) => String(c.id) === String(form.id)\n//   );\n//   fields.data[index] = form;\n// } else {\n//   form.id = fields.lastId;\n//   fields.data.push(form);\n//   dispatch(onFormFieldChange(\"lastId\", fields.lastId + 1));\n// }\n};}export function deleteCustomer(id){return function(dispatch,getState){var fields=getState().customer.form.fields;if(typeof id!==\"undefined\"){var index=fields.data.findIndex(function(c){return String(c.id)===String(id);});if(index!==-1){fields.data.splice(index,1);dispatch(customerSuccess(fields.data));}}};}","map":{"version":3,"sources":["/Users/macoybayona/Documents/MyProjects/Examination/src/reducers/customer/actions.js"],"names":["require","default","CUSTOMER","ON_FORM_FIELD_CHANGE","CUSTOMER_SUCCESS","CUSTOMER_REQUEST","api","CONSTANTS","customerState","type","customerSuccess","json","payload","customerRequest","onFormFieldChange","field","value","getCustomers","dispatch","getState","fields","customer","form","get","ALL_CUSTOMER","then","response","length","catch","err","addCustomer","console","log","post","ADD_CUSTOMER","deleteCustomer","id","index","data","findIndex","c","String","splice"],"mappings":"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","sourcesContent":["/**\n * ## Imports\n *\n * The actions supported\n */\nconst {\n  CUSTOMER,\n  ON_FORM_FIELD_CHANGE,\n  CUSTOMER_SUCCESS,\n  CUSTOMER_REQUEST\n} = require(\"../../constants/Customer\").default;\n\n\nimport {api} from \"../../lib/Api\";\nimport CONSTANTS from \"../../lib/constants\"\n\nexport function customerState() {\n  return {\n    type: CUSTOMER\n  };\n}\n\nexport function customerSuccess(json) {\n  return {\n    type: CUSTOMER_SUCCESS,\n    payload: json\n  };\n}\n\nexport function customerRequest() {\n  return {\n    type: CUSTOMER_REQUEST\n  };\n}\n\n\nexport function onFormFieldChange(field, value) {\n  return {\n    type: ON_FORM_FIELD_CHANGE,\n    payload: { field: field, value: value }\n  };\n}\n\nexport function getCustomers() {\n\n  return (dispatch, getState) => {\n    var fields = getState().customer.form.fields;\n\n            dispatch(customerRequest());\n\n            api.get(null, CONSTANTS.ALL_CUSTOMER).then((response) => {\n\n              if (typeof response !== 'undefined') {\n                if(response.length > 0){\n                    dispatch(customerSuccess(response));\n                }\n              }\n            }).catch(err => {\n                //dispatch(pokemonFailure(err));\n            });\n  };\n\n\n}\n\nexport function addCustomer(form) {\n  return (dispatch, getState) => {\n    var fields = getState().customer.form.fields;\n\n    console.log(fields);\n\n    api.post(fields, CONSTANTS.ADD_CUSTOMER).then((response) => {\n\n      if (typeof response !== 'undefined') {\n        if(response.length > 0){\n            dispatch(customerSuccess(response));\n        }\n      }\n    }).catch(err => {\n        //dispatch(pokemonFailure(err));\n    });\n\n\n    // if (typeof form.id !== \"undefined\") {\n    //   var index = fields.data.findIndex(\n    //     (c) => String(c.id) === String(form.id)\n    //   );\n    //   fields.data[index] = form;\n    // } else {\n    //   form.id = fields.lastId;\n    //   fields.data.push(form);\n    //   dispatch(onFormFieldChange(\"lastId\", fields.lastId + 1));\n    // }\n\n\n  };\n}\n\n\n\nexport function deleteCustomer(id) {\n  return (dispatch, getState) => {\n    var fields = getState().customer.form.fields;\n\n    if (typeof id !== \"undefined\") {\n      var index = fields.data.findIndex((c) => String(c.id) === String(id));\n      if (index !== -1) {\n        fields.data.splice(index, 1);\n        dispatch(customerSuccess(fields.data));\n      }\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}