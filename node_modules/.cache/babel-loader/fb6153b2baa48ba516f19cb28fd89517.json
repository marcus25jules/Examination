{"ast":null,"code":"import _slicedToArray from\"/Users/macoybayona/Documents/MyProjects/Examination/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/macoybayona/Documents/MyProjects/Examination/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from\"react\";import{bindActionCreators}from\"redux\";import{connect}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{StyledButton,StyledDialog,StyledTable}from\"../../components\";import\"../../assets/App.css\";import*as customerActions from\"../../reducers/customer/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function mapStateToProps(state){return{customer:state.customer};}function mapDispatchToProps(dispatch){return{actions:bindActionCreators(_objectSpread({},customerActions),dispatch)};}var customerListPage=function customerListPage(props){var customer=props.customer,actions=props.actions;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),customers=_useState2[0],setCustomers=_useState2[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),id=_React$useState4[0],setId=_React$useState4[1];var history=useHistory();useEffect(function(){if(customer.form.isFetching){actions.getCustomers();}});useEffect(function(){setCustomers(customer.form.fields.data);},[customer.form.fields.data]);var eventAdd=function eventAdd(){history.push(\"/form/add\");};var handleEdit=function handleEdit(id){history.push(\"/form/update/\"+id);};var columns=[{field:'fullName',headerName:'Full name',width:250,valueGetter:function valueGetter(params){return\"\".concat(params.getValue(params.id,'last_name')||'',\", \").concat(params.getValue(params.id,'first_name')||'');}},{field:'email',headerName:\"E-mail\",width:250},{field:'date_of_birth',headerName:\"DOB\",width:250},{field:'cust_code',headerName:\"CustCode\",width:250}];return/*#__PURE__*/_jsxs(\"div\",{style:{height:400,width:\"100%\"},children:[/*#__PURE__*/_jsx(\"div\",{align:\"right\",class:\"space\",children:/*#__PURE__*/_jsx(StyledButton,{label:\"Add customer\",onClick:function onClick(){eventAdd();},color:\"primary\"})}),/*#__PURE__*/_jsx(StyledTable,{rows:customers,columns:columns,pageSize:5,rowsPerPageOptions:5})]});};export default connect(mapStateToProps,mapDispatchToProps)(customerListPage);","map":{"version":3,"sources":["/Users/macoybayona/Documents/MyProjects/Examination/src/containers/customer/index.js"],"names":["React","useState","useEffect","bindActionCreators","connect","useHistory","StyledButton","StyledDialog","StyledTable","customerActions","mapStateToProps","state","customer","mapDispatchToProps","dispatch","actions","customerListPage","props","customers","setCustomers","open","setOpen","id","setId","history","form","isFetching","getCustomers","fields","data","eventAdd","push","handleEdit","columns","field","headerName","width","valueGetter","params","getValue","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { StyledButton, StyledDialog, StyledTable } from \"../../components\";\nimport \"../../assets/App.css\";\n\n\n\nimport * as customerActions from \"../../reducers/customer/actions\";\n\nfunction mapStateToProps(state) {\n  return {\n    customer: state.customer\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ ...customerActions }, dispatch)\n  };\n}\n\nconst customerListPage = (props) => {\n  const { customer, actions } = props;\n  const [customers, setCustomers] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const [id, setId] = React.useState();\n  const history = useHistory();\n\n\n  useEffect(() => {\n    if(customer.form.isFetching){\n      actions.getCustomers();\n    }\n  });\n\n\n  useEffect(() => {\n    setCustomers(customer.form.fields.data);\n  }, [customer.form.fields.data]);\n\n\n  const eventAdd = () => {\n    history.push(\"/form/add\");\n  };\n\n\n  const handleEdit = (id) => {\n    history.push(\"/form/update/\" + id);\n  };\n\n  const columns = [\n    {\n    field: 'fullName',\n    headerName: 'Full name',\n    width: 250,\n    valueGetter: (params) =>\n      `${params.getValue(params.id, 'last_name') || ''}, ${\n        params.getValue(params.id, 'first_name') || ''\n      }`,\n    },\n    { field: 'email', headerName: \"E-mail\", width: 250 },\n    { field: 'date_of_birth', headerName: \"DOB\", width: 250 },\n    { field: 'cust_code', headerName: \"CustCode\", width: 250 }\n  ];\n\n\n  return (\n    <div style={{ height: 400, width: \"100%\" }}>\n    \n      <div align=\"right\" class=\"space\">\n        <StyledButton\n          label=\"Add customer\"\n          onClick={() => {\n            eventAdd();\n          }}\n          color=\"primary\"\n        />\n      </div>\n\n      <StyledTable\n        rows={customers}\n        columns={columns}\n        pageSize={5}\n        rowsPerPageOptions={5}\n      />\n\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(customerListPage);\n"]},"metadata":{},"sourceType":"module"}