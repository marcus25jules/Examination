(this.webpackJsonpexamination=this.webpackJsonpexamination||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(146),c=n.n(a);t.default=c()({CUSTOMER:null,ON_FORM_FIELD_CHANGE:null,CUSTOMER_SUCCESS:null,CUSTOMER_REQUEST:null,CUSTOMER_ERROR:null})},108:function(e,t,n){"use strict";n.r(t);var a=n(186).Record,c=a({state:n(106).default.CUSTOMER,error:null,isFetching:!0,fields:new(a({data:[],lastId:1}))}),r=a({form:new c});t.default=r},133:function(e,t,n){},187:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"customerState",(function(){return Y})),n.d(a,"customerSuccess",(function(){return Z})),n.d(a,"customerRequest",(function(){return $})),n.d(a,"onFormFieldChange",(function(){return ee})),n.d(a,"getCustomers",(function(){return te})),n.d(a,"addCustomer",(function(){return ne})),n.d(a,"deleteCustomer",(function(){return ae}));var c=n(0),r=n.n(c),i=n(46),u=n.n(i),s=n(70),o=n(42),l=n(144),d=n.n(l),f=n(145),j=n(108).default,b=n(106).default,O=b.ON_FORM_FIELD_CHANGE,h=b.CUSTOMER_SUCCESS,m=b.CUSTOMER_REQUEST,p=new j;var v=Object(o.c)({customer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;if(!(e instanceof j))return p.merge(e);switch(t.type){case h:return e.setIn(["form","fields","data"],t.payload).setIn(["form","isFetching"],!1);case m:return e.setIn(["form","isFetching"],!0);case O:var n=t.payload,a=n.field,c=n.value;return e.setIn(["form","fields",a],c)}return e}}),g=Object(o.a)(d.a,f.a)(o.d);var S=n(108),C=(n(187),n(91)),x=n(19),E=n(7),_=n(35),R=n(57),w=n(117),U=n(2),y=["label","id","onChange","value","testID"],T=function(e){var t=e.label,n=void 0===t?"":t,a=e.id,c=void 0===a?"":a,r=e.onChange,i=e.value,u=(e.testID,Object(R.a)(e,y));return Object(U.jsx)(w.a,Object(_.a)(Object(_.a)({},u),{},{id:c,label:n,value:i,onChange:r}))};T.defaultProps={id:"standard-basic"};var M=T,A=n(67),I=["label"],N=function(e){var t=e.label,n=void 0===t?"":t,a=Object(R.a)(e,I);return Object(U.jsx)(A.a,Object(_.a)(Object(_.a)({},a),{},{children:n}))};N.defaultProps={variant:"outlined"};var F=N,D=(n(288),n(292),n(290),n(291),n(289),n(149)),L=["rows","columns","pageSize","rowsPerPageOptions"],P=function(e){var t=e.rows,n=void 0===t?[]:t,a=e.columns,c=void 0===a?[]:a,r=e.pageSize,i=e.rowsPerPageOptions;Object(R.a)(e,L);return Object(U.jsx)(D.a,{rows:n,columns:c,pageSize:r,rowsPerPageOptions:[i]})},k=(n(133),n(58)),q=n(59),B=n(73),W=n.n(B),z=n(66),G=n.n(z),H=new(function(){function e(){Object(k.a)(this,e),G.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",G.a.defaults.headers.post["Content-Type"]="application/x-www-form",G.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",G.a.defaults.baseURL=W.a.BASE_URL}return Object(q.a)(e,[{key:"get",value:function(e,t){return null===e&&(e=""),console.log(W.a.BASE_URL+t),G.a.get(t+e).then((function(e){return e.data})).catch((function(e){}))}},{key:"post",value:function(e,t){return G.a.post(t,e).then((function(e){return e.data})).catch((function(e){}))}}]),e}()),Q=n(106).default,V=Q.CUSTOMER,J=Q.ON_FORM_FIELD_CHANGE,K=Q.CUSTOMER_SUCCESS,X=Q.CUSTOMER_REQUEST;function Y(){return{type:V}}function Z(e){return{type:K,payload:e}}function $(){return{type:X}}function ee(e,t){return{type:J,payload:{field:e,value:t}}}function te(){return function(e,t){t().customer.form.fields;e($()),H.get(null,W.a.ALL_CUSTOMER).then((function(t){"undefined"!==typeof t&&t.length>0&&e(Z(t))})).catch((function(e){}))}}function ne(e){return function(e,t){var n=t().customer.form.fields;console.log(n),H.post(n,W.a.ADD_CUSTOMER).then((function(t){"undefined"!==typeof t&&t.length>0&&e(Z(t))})).catch((function(e){}))}}function ae(e){return function(t,n){var a=n().customer.form.fields;if("undefined"!==typeof e){var c=a.data.findIndex((function(t){return String(t.id)===String(e)}));-1!==c&&(a.data.splice(c,1),t(Z(a.data)))}}}var ce=Object(s.b)((function(e){return{customer:e.customer}}),(function(e){return{actions:Object(o.b)(Object(_.a)({},a),e)}}))((function(e){var t=e.customer,n=e.actions,a=Object(c.useState)([]),i=Object(E.a)(a,2),u=i[0],s=i[1],o=r.a.useState(!1),l=Object(E.a)(o,2),d=(l[0],l[1],r.a.useState()),f=Object(E.a)(d,2),j=(f[0],f[1],Object(x.f)());Object(c.useEffect)((function(){t.form.isFetching&&n.getCustomers()})),Object(c.useEffect)((function(){s(t.form.fields.data)}),[t.form.fields.data]);return Object(U.jsxs)("div",{style:{height:400,width:"100%"},children:[Object(U.jsx)("div",{align:"right",class:"space",children:Object(U.jsx)(F,{label:"Add customer",onClick:function(){j.push("/form/add")},color:"primary"})}),Object(U.jsx)(P,{rows:u,columns:[{field:"fullName",headerName:"Full name",width:250,valueGetter:function(e){return"".concat(e.getValue(e.id,"last_name")||"",", ").concat(e.getValue(e.id,"first_name")||"")}},{field:"email",headerName:"E-mail",width:250},{field:"date_of_birth",headerName:"DOB",width:250},{field:"cust_code",headerName:"CustCode",width:250}],pageSize:5,rowsPerPageOptions:5})]})}));var re=Object(s.b)((function(e){return{customer:e.customer}}),(function(e){return{actions:Object(o.b)(Object(_.a)({},a),e)}}))((function(e){var t=e.customer,n=e.actions,a=Object(c.useState)(""),r=Object(E.a)(a,2),i=r[0],u=r[1],s=Object(c.useState)(""),o=Object(E.a)(s,2),l=o[0],d=o[1],f=Object(c.useState)(""),j=Object(E.a)(f,2),b=j[0],O=j[1],h=Object(c.useState)(""),m=Object(E.a)(h,2),p=m[0],v=m[1],g=Object(c.useState)(""),S=Object(E.a)(g,2),C=S[0],_=S[1],R=Object(c.useState)(""),w=Object(E.a)(R,2),y=w[0],T=w[1],A=Object(x.f)(),I=Object(x.g)().id;Object(c.useEffect)((function(){var e=t.form.fields.data;if("undefined"!==typeof I){var n=e.findIndex((function(e){return String(e.id)===String(I)}));-1!==n&&(u(e[n].first_name),d(e[n].last_name),v(e[n].email),T(e[n].address))}}),[I,t.form.fields.data]);return Object(U.jsx)("div",{align:"center",children:Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={first_name:i,last_name:l,date_of_birth:b,email:p,phone_number:C,address:y};n.addCustomer(t),A.push("/")},class:"form",children:[Object(U.jsx)("h1",{children:"Add Customer"}),Object(U.jsx)("div",{class:"space",children:Object(U.jsx)(M,{label:"First Name",value:i,onChange:function(e){u(e.target.value)},fullWidth:!0,required:!0})}),Object(U.jsx)("div",{class:"space",children:Object(U.jsx)(M,{label:"Last Name",value:l,onChange:function(e){d(e.target.value)},fullWidth:!0,required:!0})}),Object(U.jsx)("div",{class:"space",children:Object(U.jsx)(M,{label:"Date of Birth",type:"date",value:b,onChange:function(e){O(e.target.value)},fullWidth:!0,required:!0})}),Object(U.jsx)("div",{class:"space",children:Object(U.jsx)(M,{label:"E-mail",value:p,onChange:function(e){v(e.target.value)},fullWidth:!0,type:"email",required:!0})}),Object(U.jsx)("div",{class:"space",children:Object(U.jsx)(M,{label:"Phone Number",value:C,onChange:function(e){_(e.target.value)},fullWidth:!0,type:"number",required:!0})}),Object(U.jsx)("div",{class:"space",children:Object(U.jsx)(M,{label:"Address",value:y,onChange:function(e){T(e.target.value)},fullWidth:!0,required:!0})}),Object(U.jsxs)("div",{class:"space",children:[Object(U.jsx)(F,{type:"submit",label:"Submit"})," ",Object(U.jsx)(F,{label:"Cancel",onClick:function(){A.push("/")}})]})]})})}));function ie(){return Object(U.jsx)(C.a,{children:Object(U.jsxs)(x.c,{children:[Object(U.jsx)(x.a,{exact:!0,path:"/:id?",children:Object(U.jsx)(ce,{})}),Object(U.jsx)(x.a,{path:"/form/:mode?/:id?",children:Object(U.jsx)(re,{})})]})})}var ue,se=(ue={customer:new S.default},g(v,ue)),oe=document.getElementById("root");u.a.render(Object(U.jsx)(s.a,{store:se,children:Object(U.jsx)(c.StrictMode,{children:Object(U.jsx)(ie,{})})}),oe)},73:function(e,t){e.exports={ALL_CUSTOMER:"customer/",ADD_CUSTOMER:"customer/add",BASE_URL:"http://api.eksengineering.com/api/",BUILD_VERSION:"1.0"}}},[[212,1,2]]]);
//# sourceMappingURL=main.5461c972.chunk.js.map